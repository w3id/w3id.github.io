<!DOCTYPE html>
<html lang="en-ID">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <title>Perjalanan menuju gambar responsif: CSS width, media query, sampai img srcset - Modern Web Community Indonesia</title>
    
    <meta name="description" content="Artikel ini membahas teknik-teknik memuat dan menampilkan gambar responsif yang sesuai dengan ukuran viewport.
Daftar Isi
 Non-responsif Teknik 0: CSS width dan height Teknik 1: CSS media query dan background-image  File mana yang di-download? Media query untuk layar dengan kepadatan pixel tinggi (“retina”) Gabungan media query width dan resolution Uji coba CSS background-image dengan media query   Teknik 2: img dengan atribut srcset  Uji coba img srcset   Perbandingan performa Penutup  Extra credits   Referensi   Perangkat (device) yang digunakan untuk mengakses web makin bervariasi—makin besar, makin kecil, makin tajam.">
    <meta name="author" content="Eka">
    
    <link href="https://wwwid.org/an-old-hope.min.css" rel="stylesheet">
    <link href="https://wwwid.org/css/style.css" rel="stylesheet">
    <link href="https://wwwid.org/css/featured.css" rel="stylesheet">
    <meta name="color-scheme" content="dark light">
    
    <link rel="apple-touch-icon" href="https://wwwid.org/apple-touch-icon.png">
    <link rel="icon" href="https://wwwid.org/favicon.ico">
    
    <meta name="generator" content="Hugo 0.62.2" />
    
    <link rel="alternate" type="application/atom+xml" href="https://wwwid.org/index.xml" title="Modern Web Community Indonesia">
    
    
    
    <meta property="og:title" content="Perjalanan menuju gambar responsif: CSS width, media query, sampai img srcset" />
<meta property="og:description" content="Membahas teknik-teknik memuat gambar responsif yang sesuai dengan ukuran viewport" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://wwwid.org/posts/2020-05-26_gambar-responsif-img-srcset-css-media-query/" />
<meta property="og:image" content="https://wwwid.org/images/audit-mq.png" />
<meta property="og:image" content="https://wwwid.org/images/audit-not.png" />
<meta property="og:image" content="https://wwwid.org/images/audit-srcset.png" />
<meta property="og:image" content="https://wwwid.org/images/dev-tools-check.png" />
<meta property="og:image" content="https://wwwid.org/images/not-resp.png" />
<meta property="og:image" content="https://wwwid.org/images/teknik-0.png" />
<meta property="article:published_time" content="2020-05-24T11:16:22+07:00" />
<meta property="article:modified_time" content="2020-05-25T21:55:48+07:00" />

    

    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-118693499-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-118693499-2');
</script>

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MXRJCWB');</script>
  
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <script async custom-element="amp-carousel" src="https://cdn.ampproject.org/v0/amp-carousel-0.1.js"></script>
  
  <script async custom-element="amp-social-share" src="https://cdn.ampproject.org/v0/amp-social-share-0.1.js"></script>
  
    
        <script>
    if("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
            navigator.serviceWorker.register("/sw.js").then(swReg => {}).catch(err => {
                console.error('Service Worker Error', err);
            });
        });
    }
  </script>
    
  </head>
  <body class="single">
    <header class="header">
      <nav class="nav">
        
        <p class="logo"><a href="https://wwwid.org/">
          <img class="logo light" 
          srcset="https://wwwid.org/images/logo-light-bg@2x.png 2x,
          https://wwwid.org/images/logo-light-bg.png"
          src="https://wwwid.org/images/logo-light-bg@2x.png" alt="Modern Web Community Indonesia" height="40"/> 
          <img class="logo dark" 
          srcset="https://wwwid.org/images/logo-dark-bg@2x.png 2x,
          https://wwwid.org/images/logo-dark-bg.png"
          src="https://wwwid.org/images/logo-dark-bg@2x.png" alt="Modern Web Community Indonesia" height="40"/>
        
        </a></p>
        
        
        <ul class="menu">
          
          <li>
            <a href="/pages/tentang-kami/">Tentang Kami</a>
          </li>
          
        </ul>
        
      </nav>
    </header>
    <main class="main">

<script type="application/ld+json">
  {
  "@context": "http://schema.org",
  "@type": "NewsArticle",
  "mainEntityOfPage": "https:\/\/wwwid.org\/posts\/2020-05-26_gambar-responsif-img-srcset-css-media-query\/",
  "headline": "Perjalanan menuju gambar responsif: CSS width, media query, sampai img srcset",
  "datePublished": "2020-05-24",
  "dateModified": "2020-05-25",
  "description": "Artikel ini membahas teknik-teknik memuat dan menampilkan gambar responsif yang sesuai dengan ukuran viewport.\nDaftar Isi\n Non-responsif Teknik 0: CSS width dan height Teknik 1: CSS media query dan background-image  File mana yang di-download? Media query untuk layar dengan kepadatan pixel tinggi (“retina”) Gabungan media query width dan resolution Uji coba CSS background-image dengan media query   Teknik 2: img dengan atribut srcset  Uji coba img srcset   Perbandingan performa Penutup  Extra credits   Referensi   Perangkat (device) yang digunakan untuk mengakses web makin bervariasi—makin besar, makin kecil, makin tajam.","author": {
    "@type": "Person",
    "name": "Eka"
  },
  
  
  "publisher": {
    "@type": "Organization",
    "name": "WWWID",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/wwwid.org\//images/wwwid-logogram.png",
      "width": 388,
      "height": 388
    }
  },
  
  
  }
  </script>
<article class="post-single">
  <header class="post-header">
   
    <h1 class="post-title">Perjalanan menuju gambar responsif: CSS width, media query, sampai img srcset</h1>
    
    <div class="post-meta">Eka · 24 May 2020</div>
  </header>
  <div class="post-content"><p><em>Artikel ini membahas teknik-teknik memuat dan menampilkan gambar responsif yang sesuai dengan ukuran viewport.</em></p>
<p><strong>Daftar Isi</strong></p>
<ul>
<li><a href="#non-responsif">Non-responsif</a></li>
<li><a href="#teknik-0-css-width-dan-height">Teknik 0: CSS <code>width</code> dan <code>height</code></a></li>
<li><a href="#teknik-1-css-media-query-dan-background-image">Teknik 1: CSS media query dan <code>background-image</code></a>
<ul>
<li><a href="#file-mana-yang-di-download">File mana yang di-download?</a></li>
<li><a href="#media-query-untuk-layar-dengan-kepadatan-pixel-tinggi-retina">Media query untuk layar dengan kepadatan pixel tinggi (“retina”)</a></li>
<li><a href="#gabungan-media-query-width-dan-resolution">Gabungan media query <code>width</code> dan <code>resolution</code></a></li>
<li><a href="#uji-coba-css-background-image-dengan-media-query">Uji coba CSS background-image dengan media query</a></li>
</ul>
</li>
<li><a href="#teknik-2-img-dengan-atribut-srcset">Teknik 2: <code>img</code> dengan atribut <code>srcset</code></a>
<ul>
<li><a href="#uji-coba-img-srcset">Uji coba img srcset</a></li>
</ul>
</li>
<li><a href="#perbandingan-performa">Perbandingan performa</a></li>
<li><a href="#penutup">Penutup</a>
<ul>
<li><a href="#extra-credits">Extra credits</a></li>
</ul>
</li>
<li><a href="#referensi">Referensi</a></li>
</ul>
<hr>
<p>Perangkat (<em>device</em>) yang digunakan untuk mengakses web makin bervariasi—makin besar, makin kecil, makin tajam. Walaupun tag <code>img</code> sudah ada sejak tahun 1993, baru beberapa tahun terakhir memilih ukuran file gambar yang tepat jadi dilema.</p>
<p>Jika gambar terlalu kecil, terlihat pecah (<em>pixelated</em>) di layar yang lebih besar. Seringkali gambar berukuran besar jadi pilihan. Akibatnya user harus men-download file yang lebih besar dari yang dibutuhkan. Padahal hal ini dapat mengganggu performa dan pengalaman pengguna (UX), karena:</p>
<ul>
<li>Proses loading jadi lebih lambat.</li>
<li>Browser harus bekerja lebih keras untuk mengecilkan file gambar, misalnya dari 2000px menjadi 375px.</li>
<li>Menguras kuota user yang menggunakan paket data.</li>
</ul>
<p>Muncullah kebutuhan atas <strong>gambar responsif</strong>, yaitu kemampuan untuk <em>memuat file gambar yang ukurannya sesuai dengan layar perangkat user</em>.</p>
<p>Ada beberapa teknik gambar responsif yang banyak digunakan. Yang lebih dulu populer adalah media query dan <code>background-image</code> CSS. Lalu hadirlah atribut <code>srcset</code> untuk tag <code>img</code> yang memang berfungsi untuk menampilkan gambar secara responsif.</p>
<p>Artikel ini akan membahas <em>bagaimana penggunaan</em> dan <em>apa saja perbedaan</em> kedua teknik tersebut. Kita akan membuat halaman dengan spesifikasi sebagai berikut:</p>
<ul>
<li>Berisi satu gambar yang memenuhi lebar layar (100%)</li>
<li>Rasio/proporsi gambar 2:1</li>
<li>Ada 6 ukuran file gambar: 400 x 200px, 800 x 400px, 1200 x 600px, 1600 x 800px, 2000 x 1000px, dan 2400 x 1200px</li>
</ul>
<p>Di dunia nyata, breakpoint dan ukuran yang digunakan tentu berbeda. Fokus di contoh ini adalah untuk mendemonstrasikan cara kerja masing-masing teknik. Ada dua tujuan gambar responsif yang harus dicapai:</p>
<ol>
<li>File gambar yang dimuat adalah yang <em>paling mendekati</em> ukuran dan kepadatan pixel layar</li>
<li>File gambar berukuran <em>sama atau lebih besar</em> dari ukuran layar (agar tidak pecah)</li>
</ol>
<p>💻 Kamu bisa melihat dan mencoba kode demo di <a href="https://glitch.com/~gambar-responsif">halaman Glitch ini</a>.</p>
<h2 id="non-responsif">Non-responsif</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1600x800.png&#34;</span> <span style="color:#a6e22e">alt</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span> /&gt;
</code></pre></div><p>Gambar ini sama sekali belum menggunakan teknik responsif. <a href="https://gambar-responsif.glitch.me/not-responsive.html">Lihat demo</a>.</p>
<figure>
    <img src="images/not-resp.png"/> <figcaption>
            <h4>Layar ponsel berisi gambar yang lebih lebar dari viewport</h4>
        </figcaption>
</figure>

<p>Selain belum mencapai kedua tujuan di atas, jika diakses dari layar berukuran kecil, gambar yang terlalu besar merusak (<em>stretch</em>) layout halaman dan sulit dilihat isinya.</p>
<h2 id="teknik-0-css-width-dan-height">Teknik 0: CSS <code>width</code> dan <code>height</code></h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1600x800.png&#34;</span> <span style="color:#a6e22e">alt</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span> /&gt;

&lt;<span style="color:#f92672">style</span>&gt;
  <span style="color:#f92672">img</span> {
    <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
    <span style="color:#66d9ef">height</span>: <span style="color:#66d9ef">auto</span>; <span style="color:#75715e">/* tentukan tinggi gambar secara otomatis sesuai isi file */</span>
  }
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>Teknik ini menampilkan gambar responsif <em>dari segi visual</em> (menyesuaikan lebar layar), tapi belum memuat gambar secara responsif. Berapapun lebar viewport, file yang di-download berukuran 1600 x 800px. <a href="https://gambar-responsif.glitch.me/img-css-width.html">Lihat demo</a>.</p>
<figure>
    <img src="images/teknik-0.png"/> <figcaption>
            <h4>Layar ponsel berisi gambar 1600 x 800px yang diperkecil selebar viewport</h4>
        </figcaption>
</figure>

<p>UI library (Bootstrap, Bulma, dsb) atau style reset biasanya sudah memiliki global rule <code>img { max-width: 100% }</code> untuk menjawab masalah ini.</p>
<p>Agar lebih optimal, definisikan <code>height</code> secara eksplisit jika memungkinkan. Misalnya, jika rasio 2:1 dan lebar gambar = 100% lebar layar, maka tinggi gambar adalah separuh (50%) lebar layar. <a href="https://gambar-responsif.glitch.me/img-css-width-height.html">Lihat demo</a>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1600x800.png&#34;</span> <span style="color:#a6e22e">alt</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;400&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span> /&gt;

&lt;<span style="color:#f92672">style</span>&gt;
  <span style="color:#f92672">img</span> {
    <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
    <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">50</span><span style="color:#66d9ef">vw</span>; <span style="color:#75715e">/* 50% lebar layar */</span>
  }
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>Selama file gambar dalam proses <em>loading</em>, browser belum mendapat isi gambar dan value <code>height: auto</code> masih <code>0</code>. Saat file gambar selesai di-download, barulah value <code>height</code> diperbarui. Teks di bawah gambar pun terdorong turun.</p>
<figure>
    <img src="images/layout-shift.gif"/> <figcaption>
            <h4>Pergeseran layout saat gambar selesai loading</h4>
        </figcaption>
</figure>

<p>Pergeseran layout (<em>layout shift</em>) seperti ini perlu diminimalisir karena mengganggu pengalaman pengguna. Kita bisa memantaunya menggunakan metric <a href="https://web.dev/cls/">Cumulative Layout Shift</a> yang merupakan bagian dari Core Web Vitals.</p>
<p>Dengan menentukan <code>height</code> secara eksplisit, kita bisa meminimalisir <em>layout shift</em>. Sebaiknya kita juga mengisi atribut <code>width</code> dan <code>height</code> tag <code>img</code> sebagai <em>fallback</em> jika style CSS tertunda atau gagal dimuat.</p>
<figure>
    <img src="images/no-layout-shift.gif"/> <figcaption>
            <h4>Tidak terjadi pergeseran layout karena tinggi gambar di-set secara eksplisit</h4>
        </figcaption>
</figure>

<p>Meski belum memenuhi kebutuhan gambar responsif, <code>width</code> dan <code>height</code> CSS perlu digunakan untuk tampilan layout yang lebih stabil. Kita dapat menganggapnya sebagai “Teknik 0” gambar responsif.</p>
<p>Nah, sekarang kita akan lanjut ke teknik gambar responsif pertama.</p>
<h2 id="teknik-1-css-media-query-dan-background-image">Teknik 1: CSS media query dan <code>background-image</code></h2>
<p><a href="https://developer.mozilla.org/id/docs/Web/Guide/CSS/Media_queries">Media query CSS</a> adalah fitur yang krusial untuk <a href="https://web.dev/responsive-web-design-basics/#size-content">desain web responsif</a>. Kita bisa menentukan kondisi berdasarkan spesifikasi atau fitur perangkat yang digunakan (jenis media, lebar layar, kepadatan pixel, dll). Style dalam media query hanya dijalankan jika syarat terpenuhi.</p>
<p>Kita bisa menggunakan properti <code>background-image</code> dalam media query untuk memuat gambar berdasarkan kondisi lebar viewport. <a href="http://gambar-responsif.glitch.me/css-mq-basic.html">Lihat demo versi dasar</a>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;responsive-img&#34;</span> <span style="color:#a6e22e">aria-hidden</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;

&lt;<span style="color:#f92672">style</span>&gt;
  .<span style="color:#a6e22e">responsive-img</span> {
    <span style="color:#75715e">/* Wajib tentukan dimensi elemen container */</span>
    <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
    <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">50</span><span style="color:#66d9ef">vw</span>;
    <span style="color:#75715e">/* Pastikan gambar mengisi elemen container dengan benar */</span>
    <span style="color:#66d9ef">background-size</span>: <span style="color:#66d9ef">cover</span>;
    <span style="color:#66d9ef">background-repeat</span>: <span style="color:#66d9ef">no-repeat</span>;
    <span style="color:#75715e">/* Fallback/initial image */</span>
    <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">&#34;small.png&#34;</span>);
  }

  <span style="color:#75715e">/* Contoh dasar background-image dalam media query */</span>
  @<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">min-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">992px</span><span style="color:#f92672">)</span> {
    .<span style="color:#a6e22e">responsive-img</span> {
      <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">&#34;large.png&#34;</span>);
    }
  }
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><ul>
<li>Gunakan elemen <code>div</code>, bukan <code>img</code>. Atribut <code>aria-hidden</code> berfungsi untuk aksesibilitas agar teknologi pembaca layar (<em>screen reader</em>) melewati <code>div</code> kosong ini. Jika terpaksa menggunakan <em>background image</em> untuk konten yang memiliki makna, gunakan role/atribut ARIA yang sesuai, misalnya <code>&lt;div class=&quot;responsive-img&quot; role=&quot;img&quot; aria-label=&quot;Deskripsi gambar&quot;&gt;</code>.</li>
<li>Tambahkan style CSS untuk mengatur ukuran dan tampilan background.</li>
<li>Tentukan file gambar default/fallback berukuran kecil, <code>small.png</code>.</li>
<li>Jika lebar viewport 992px atau lebih, gunakan file yang lebih besar, <code>large.png</code>.</li>
</ul>
<h3 id="file-mana-yang-di-download">File mana yang di-download?</h3>
<p>Kalau kita lihat lagi contoh di atas, jika viewport &gt;= 992px, <em>kedua baris</em> style <code>background-image</code> akan terbaca. Yang pertama (<code>small</code>) sebagai style default, kedua (<code>large</code>) karena memenuhi kondisi media query. Sesuai cara kerja CSS, yang diterapkan adalah style terakhir (<code>large</code>).</p>
<p>Lalu, apakah browser men-download kedua file? Jawabannya: Masing-masing browser punya perilaku berbeda. Sebagian besar browser modern cukup “pintar” untuk hanya men-download file yang akan ditampilkan.</p>
<figure>
    <img src="images/dev-tools-check.png"/> <figcaption>
            <h4>Menggunakan DevTools untuk memeriksa file yang di-download. Ternyata hanya file terakhir (large) yang di-download; file fallback/default dilewati. 👍🏽</h4>
        </figcaption>
</figure>

<p>Studi kasus yang rinci bisa dilihat di <a href="https://timkadlec.com/2012/04/media-query-asset-downloading-results/">artikel oleh Tim Kadlec ini</a>, khususnya test 4 dan test 7. Saat ini dukungan browser sudah lebih baik sejak artikel tersebut ditulis tahun 2012. Agar lebih <em>foolproof</em>, kita bisa gunakan kombinasi <code>max-width</code> dan <code>min-width</code>, dan hilangkan style <code>background-image</code> default di luar media query.</p>
<h3 id="media-query-untuk-layar-dengan-kepadatan-pixel-tinggi-retina">Media query untuk layar dengan kepadatan pixel tinggi (“retina”)</h3>
<p>Makin banyak device yang memiliki layar dengan kepadatan pixel (<em>pixel density</em>) tinggi. Apple pertama kali mempopulerkan fitur ini (iPhone 4, 2010) dengan istilah “Retina display”. Istilah “retina” pun kerap digunakan untuk menyebut device apapun yang kepadatan pixelnya tinggi.</p>
<p><em>Device pixel ratio</em> adalah perbandingan antara 1 pixel fisik (<em>device / physical pixel</em>) dan 1 pixel CSS. Contohnya, iPhone 3G dan 4 memiliki ukuran fisik layar yang sama, tapi kepadatan pixel iPhone 4 dua kali lipat iPhone 3G.</p>
<table>
<thead>
<tr>
<th></th>
<th>iPhone 3G</th>
<th>iPhone 4 (Retina)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Spesifikasi</td>
<td><a href="https://en.wikipedia.org/wiki/IPhone_3G">Wikipedia</a></td>
<td><a href="https://en.wikipedia.org/wiki/IPhone_4">Wikipedia</a></td>
</tr>
<tr>
<td>Kepadatan</td>
<td>163 ppi</td>
<td>326 ppi</td>
</tr>
<tr>
<td>Resolusi pixel</td>
<td>320x480 pixel</td>
<td>640x960 pixel</td>
</tr>
<tr>
<td><em>Device pixel ratio</em></td>
<td><code>1</code> (1 pixel device = 1 pixel CSS)</td>
<td><code>2</code> (2 pixel device = 1 pixel CSS)</td>
</tr>
</tbody>
</table>
<p>Device pixel ratio tidak hanya <code>1</code> dan <code>2</code>, namun ada juga <code>1.5</code>, <code>3</code>, dan mungkin akan bertambah di masa mendatang.</p>
<p>Ukuran gambar perlu disesuaikan dengan <em>device pixel ratio</em> agar terlihat tajam. Misalnya, walaupun layar iPhone 4 memiliki lebar 320px dalam pixel CSS, ukuran gambar yang ideal adalah 640px sesuai lebar pixel device/fisik. Untuk menentukan query berdasarkan <em>device pixel ratio</em>, gunakan ekspresi <code>resolution</code> (<code>min-resolution</code>, <code>max-resolution</code>) dengan unit <code>dppx</code>.</p>
<p>Catatan:</p>
<ul>
<li><code>-webkit-device-pixel-ratio</code> adalah <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/-webkit-device-pixel-ratio">query non-standar</a> yang kegunaannya mirip dengan <code>resolution</code>. Misalnya, <code>min-resolution: 2dppx</code> sama dengan <code>-webkit-min-device-pixel-ratio: 2</code>. Saat ini, browser major yang hanya mendukung <code>-webkit-device-pixel-ratio</code> adalah Safari macOS maupun iOS.</li>
<li>Jika perlu presisi lebih, kita bisa menggunakan unit <code>dpi</code>, misalnya <code>min-resolution: 326dpi</code>.</li>
</ul>
<h3 id="gabungan-media-query-width-dan-resolution">Gabungan media query <code>width</code> dan <code>resolution</code></h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;responsive-img&#34;</span> <span style="color:#a6e22e">aria-hidden</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;

&lt;<span style="color:#f92672">style</span>&gt;
  .<span style="color:#a6e22e">responsive-img</span> {
    <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
    <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">50</span><span style="color:#66d9ef">vw</span>;
    <span style="color:#66d9ef">background-size</span>: <span style="color:#66d9ef">cover</span>;
    <span style="color:#66d9ef">background-repeat</span>: <span style="color:#66d9ef">no-repeat</span>;
    <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">&#34;https://dummyimage.com/400x200&#34;</span>);
  }

  <span style="color:#75715e">/* device pixel ratio &lt; 2 */</span>

  @<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">min-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">401px</span><span style="color:#f92672">)</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">max-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">800px</span><span style="color:#f92672">)</span> {
    .<span style="color:#a6e22e">responsive-img</span> {
      <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">&#34;https://dummyimage.com/800x400&#34;</span>);
    }
  }
  @<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">min-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">801px</span><span style="color:#f92672">)</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">max-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">1200px</span><span style="color:#f92672">)</span> {
    .<span style="color:#a6e22e">responsive-img</span> {
      <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">&#34;https://dummyimage.com/1200x600&#34;</span>);
    }
  }
  @<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">min-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">1201px</span><span style="color:#f92672">)</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">max-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">1600px</span><span style="color:#f92672">)</span> {
    .<span style="color:#a6e22e">responsive-img</span> {
      <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">&#34;https://dummyimage.com/1600x800&#34;</span>);
    }
  }
  @<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">min-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">1601px</span><span style="color:#f92672">)</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">max-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">2000px</span><span style="color:#f92672">)</span> {
    .<span style="color:#a6e22e">responsive-img</span> {
      <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">&#34;https://dummyimage.com/2000x1000&#34;</span>);
    }
  }
  @<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">min-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">2001px</span><span style="color:#f92672">)</span> {
    .<span style="color:#a6e22e">responsive-img</span> {
      <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">&#34;https://dummyimage.com/2400x1200&#34;</span>);
    }
  }

  <span style="color:#75715e">/* device pixel ratio &gt;= 2 */</span>

  @<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">min-resolution</span><span style="color:#f92672">:</span> <span style="color:#f92672">2dppx</span><span style="color:#f92672">)</span><span style="color:#f92672">,</span>
    <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">-webkit-min-device-pixel-ratio</span><span style="color:#f92672">:</span> <span style="color:#f92672">2</span><span style="color:#f92672">)</span> {
    .<span style="color:#a6e22e">responsive-img</span> {
      <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">&#34;https://dummyimage.com/800x400&#34;</span>);
    }
  }
  @<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">min-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">401px</span><span style="color:#f92672">)</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">max-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">800px</span><span style="color:#f92672">)</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">min-resolution</span><span style="color:#f92672">:</span> <span style="color:#f92672">2dppx</span><span style="color:#f92672">)</span><span style="color:#f92672">,</span>
    <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">min-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">401px</span><span style="color:#f92672">)</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">max-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">800px</span><span style="color:#f92672">)</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">-webkit-min-device-pixel-ratio</span><span style="color:#f92672">:</span> <span style="color:#f92672">2</span><span style="color:#f92672">)</span> {
    .<span style="color:#a6e22e">responsive-img</span> {
      <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">&#34;https://dummyimage.com/1600x800&#34;</span>);
    }
  }
  @<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">min-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">801px</span><span style="color:#f92672">)</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">min-resolution</span><span style="color:#f92672">:</span> <span style="color:#f92672">2dppx</span><span style="color:#f92672">)</span><span style="color:#f92672">,</span>
    <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">min-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">801px</span><span style="color:#f92672">)</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">-webkit-min-device-pixel-ratio</span><span style="color:#f92672">:</span> <span style="color:#f92672">2</span><span style="color:#f92672">)</span> {
    .<span style="color:#a6e22e">responsive-img</span> {
      <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">&#34;https://dummyimage.com/2400x1200&#34;</span>);
    }
  }
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><ul>
<li>Kode di atas menggunakan kombinasi <code>min-width</code> dan <code>max-width</code> untuk memperjelas range lebar viewport dan gambar yang digunakan. (<strong>Contoh:</strong> Jika lebar viewport antara 401px - 800px, gunakan gambar yang lebarnya 800px.)</li>
<li>Query <code>min-resolution</code> di contoh ini hanya mendeteksi <em>device pixel ratio</em> kurang dari <code>2</code>, ATAU <code>2</code> dan lebih. Rasio <code>1.5</code> mendapat file gambar yang sama dengan rasio <code>1</code>. Sebaliknya, rasio <code>2.5</code> ke atas tetap mendapat gambar dua kali ukuran viewport.</li>
</ul>
<h3 id="uji-coba-css-background-image-dengan-media-query">Uji coba CSS background-image dengan media query</h3>
<p>Hasil uji coba untuk <a href="https://gambar-responsif.glitch.me/css-mq.html">halaman demo</a>.</p>
<table>
<thead>
<tr>
<th>Jenis device</th>
<th>Browser</th>
<th>Lebar pixel CSS</th>
<th>Lebar pixel device</th>
<th>DPR</th>
<th>Lebar file gambar</th>
</tr>
</thead>
<tbody>
<tr>
<td>Macbook Air</td>
<td>Chrome 81; Firefox 76; Safari macOS 12 / iOS 11 *️⃣</td>
<td>360</td>
<td>360</td>
<td>1</td>
<td>✅ 400</td>
</tr>
<tr>
<td>Macbook Air</td>
<td>Chrome 81; Firefox 76; Safari macOS 12</td>
<td>1440</td>
<td>1440</td>
<td>1</td>
<td>✅ 1600</td>
</tr>
<tr>
<td>iPhone 8 *️⃣</td>
<td>Safari iOS 11</td>
<td>375</td>
<td>750</td>
<td>2</td>
<td>✅ 800</td>
</tr>
<tr>
<td>iPhone 8 *️⃣*️⃣</td>
<td>Chrome 81</td>
<td>375</td>
<td>750</td>
<td>2</td>
<td>✅ 800</td>
</tr>
<tr>
<td>Xiaomi Redmi 4A</td>
<td>Chrome Canary 82; Chrome 77 (Android 6)</td>
<td>360</td>
<td>720</td>
<td>2</td>
<td>✅ 800</td>
</tr>
<tr>
<td>Xiaomi Redmi 4A</td>
<td>Chrome Canary 82; Chrome 77 (Android 6)</td>
<td>640</td>
<td>1280</td>
<td>2</td>
<td>✅ 1600</td>
</tr>
<tr>
<td>iPad mini 2</td>
<td>Safari iOS</td>
<td>768</td>
<td>1536</td>
<td>2</td>
<td>✅ 1600</td>
</tr>
<tr>
<td>iPad mini 2</td>
<td>Safari iOS</td>
<td>1024</td>
<td>2048</td>
<td>2</td>
<td>✅ 2400</td>
</tr>
<tr>
<td>Samsung Galaxy Note *️⃣*️⃣</td>
<td>Chrome 81</td>
<td>360</td>
<td>1080</td>
<td>3</td>
<td>🌀 800</td>
</tr>
</tbody>
</table>
<ul>
<li>*️⃣ Simulasi user agent iOS 11 di Safari Responsive Design Mode</li>
<li>*️⃣*️⃣ Simulasi dengan Chrome DevTools</li>
<li>🌀 Gambar yang dimuat tidak sesuai DPR karena media query-nya tidak ditulis pada contoh ini. Cukup tambahkan media query yang sesuai jika perlu.</li>
</ul>
<h2 id="teknik-2-img-dengan-atribut-srcset">Teknik 2: <code>img</code> dengan atribut <code>srcset</code></h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">img</span>
  <span style="color:#a6e22e">alt</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;400&#34;</span>
  <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span>
  <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://dummyimage.com/400x200&#34;</span>
  <span style="color:#a6e22e">srcset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">    https://dummyimage.com/400x200    400w,
</span><span style="color:#e6db74">    https://dummyimage.com/800x400    800w,
</span><span style="color:#e6db74">    https://dummyimage.com/1200x600  1200w,
</span><span style="color:#e6db74">    https://dummyimage.com/1600x800  1600w,
</span><span style="color:#e6db74">    https://dummyimage.com/2000x1000 2000w,
</span><span style="color:#e6db74">    https://dummyimage.com/2400x1200 2400w
</span><span style="color:#e6db74">  &#34;</span>
/&gt;
</code></pre></div><p>Kita menggunakan tag <code>img</code> seperti biasa dengan tambahan atribut <code>srcset</code>. Atribut ini berisi string <em>sumber file</em> dan <em>lebar file</em> yang dipisahkan tanda koma. <em>Sumber file</em> adalah path ke file gambar (sama seperti isi atribut <code>src</code>), dan <em>lebar file</em> adalah integer dengan satuan <code>w</code>.</p>
<p>Dalam bahasa manusia, <em>“Hai browser, saya punya file-file gambar ini. Tolong pilih yang paling sesuai, ya.”</em></p>
<ul>
<li><code>https://dummyimage.com/400x200 400w</code>
<ul>
<li>File <code>https://dummyimage.com/400x200</code> lebarnya 400px</li>
</ul>
</li>
<li><code>https://dummyimage.com/800x400 800w</code>
<ul>
<li>File <code>https://dummyimage.com/800x400</code> lebarnya 800px (dan seterusnya)</li>
</ul>
</li>
</ul>
<p>Kenapa perlu mencantumkan lebar? Agar browser bisa tahu lebar file tanpa harus men-download semua file. Browser akan memilih ukuran file yang paling mendekati lebar dan resolusi layar berdasarkan data yang kita sediakan. Contoh:</p>
<ul>
<li>Jika halaman di bawah diakses dari laptop ber-DPR 1 dengan jendela browser di-resize seukuran 375px, gambar yang dimuat adalah gambar <code>400x200</code></li>
<li>Jika diakses dari iPhone 6 (DPR 2), yang dimuat <code>800x400</code></li>
<li>Jika diakses dari Galaxy Note 3 (DPR 3), yang dimuat <code>1200x600</code></li>
<li>Jika diakses dari browser yang belum mendukung <code>srcset</code>, isi atribut <code>src</code> digunakan seperti biasa</li>
</ul>
<figure>
    <img src="images/teknik-3.png"/> <figcaption>
            <h4>Membandingkan gambar responsif menggunakan Chrome DevTools</h4>
        </figcaption>
</figure>

<h3 id="uji-coba-img-srcset">Uji coba img srcset</h3>
<p>Hasil uji coba untuk <a href="https://gambar-responsif.glitch.me/img-srcset.html">halaman demo</a>.</p>
<table>
<thead>
<tr>
<th>Jenis device</th>
<th>Browser</th>
<th>Lebar pixel CSS</th>
<th>Lebar pixel device</th>
<th>DPR</th>
<th>Lebar file gambar</th>
</tr>
</thead>
<tbody>
<tr>
<td>Macbook Air</td>
<td>Chrome 81; Firefox 76; Safari macOS 12 / iOS 11 *️⃣</td>
<td>360</td>
<td>360</td>
<td>1</td>
<td>✅ 400</td>
</tr>
<tr>
<td>Macbook Air</td>
<td>Chrome 81; Firefox 76; Safari macOS 12</td>
<td>1440</td>
<td>1440</td>
<td>1</td>
<td>✅ 1600</td>
</tr>
<tr>
<td>iPhone 8 *️⃣</td>
<td>Safari iOS 11</td>
<td>375</td>
<td>750</td>
<td>2</td>
<td>✅ 800</td>
</tr>
<tr>
<td>iPhone 8 *️⃣*️⃣</td>
<td>Chrome 81</td>
<td>375</td>
<td>750</td>
<td>2</td>
<td>✅ 800</td>
</tr>
<tr>
<td>Xiaomi Redmi 4A</td>
<td>Chrome Canary 82; Chrome 77 (Android 6)</td>
<td>360</td>
<td>720</td>
<td>2</td>
<td>✅ 800</td>
</tr>
<tr>
<td>Xiaomi Redmi 4A</td>
<td>Chrome Canary 82; Chrome 77 (Android 6)</td>
<td>640</td>
<td>1280</td>
<td>2</td>
<td>❓ 1200</td>
</tr>
<tr>
<td>iPad mini 2</td>
<td>Safari iOS</td>
<td>768</td>
<td>1536</td>
<td>2</td>
<td>✅ 1600</td>
</tr>
<tr>
<td>iPad mini 2</td>
<td>Safari iOS</td>
<td>1024</td>
<td>2048</td>
<td>2</td>
<td>✅ 2400</td>
</tr>
<tr>
<td>Samsung Galaxy Note *️⃣*️⃣</td>
<td>Chrome 81</td>
<td>360</td>
<td>1080</td>
<td>3</td>
<td>✅ 1200</td>
</tr>
</tbody>
</table>
<ul>
<li>*️⃣ Simulasi user agent iOS 11 di Safari Responsive Design Mode</li>
<li>*️⃣*️⃣ Simulasi dengan Chrome DevTools</li>
<li>❓ Di layar berukuran lebar 1280px (pixel device) / 640px (pixel CSS), ekspektasi gambar yang dimuat adalah <strong>1600px</strong>. Tapi di browser Chrome (Chrome 81 macOS, Chrome Canary 82 Android, Chrome 77 Android), yang dimuat adalah <strong>1200px</strong>.
<ul>
<li>Perilaku ini tidak terjadi di Safari (macOS dan simulasi user agent iOS 11).</li>
<li>Perilaku ini tidak terjadi di Chrome jika DPR 1 (jika pixel device sama dengan pixel CSS).</li>
</ul>
</li>
</ul>
<h2 id="perbandingan-performa">Perbandingan performa</h2>
<p>Kita akan mengukur performa tiga versi halaman dengan pengaturan berikut:</p>
<ul>
<li>Chrome 81 MacOS incognito mode</li>
<li>DevTools setting: Disable cache, throttle koneksi Fast 3G</li>
<li>Setting <strong>Lighthouse Audit</strong>: kategori <em>Performance</em>, device <em>Mobile</em></li>
<li>Setting <strong>Performance</strong>: DPR 2, lebar viewport 375px (CSS pixel) / 750px (device pixel)</li>
<li>Pengukuran tab Performance dijalankan dua kali, hasilnya dipisahkan tanda koma</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>Tidak responsif</th>
<th>CSS media query</th>
<th>img srcset</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><a href="http://gambar-responsif.glitch.me/not-responsive.html">Demo</a></td>
<td><a href="http://gambar-responsif.glitch.me/css-mq.html">Demo</a></td>
<td><a href="http://gambar-responsif.glitch.me/img-srcset.html">Demo</a></td>
</tr>
<tr>
<td><strong>🗂 Lighthouse</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Performance Score</td>
<td>89</td>
<td>97</td>
<td>100</td>
</tr>
<tr>
<td>Speed Index</td>
<td>5.2 s</td>
<td>3.6 s</td>
<td>2.3 s</td>
</tr>
<tr>
<td>FCP, TTI, FMP, FCI</td>
<td>1.1 s</td>
<td>1.5 s</td>
<td>0.9 s</td>
</tr>
<tr>
<td><strong>🗂 Network</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Image file size</td>
<td>9.4 kb (2400x1200)</td>
<td>2.9 kb (800x400)</td>
<td>2.9 kb (800x400)</td>
</tr>
<tr>
<td>Image load time</td>
<td>5.08 s, 2.27 s</td>
<td>578 ms, 814 ms</td>
<td>1.66 s, 1.59 s</td>
</tr>
<tr>
<td>Transferred</td>
<td>11.3 kB</td>
<td>6.8 kB</td>
<td>5.2 kB</td>
</tr>
<tr>
<td>Resources</td>
<td>10.5 kB</td>
<td>6.1 kB</td>
<td>4.5 kB</td>
</tr>
<tr>
<td>Finish</td>
<td>5.68 s, 4.93 s</td>
<td>2.95 s, 2.85 s</td>
<td>2.26 s, 2.20 s</td>
</tr>
<tr>
<td>Load</td>
<td>5.68 s, 4.93 s</td>
<td>2.96 s, 2.86 s</td>
<td>2.27 s, 2.20 s</td>
</tr>
</tbody>
</table>
<p><img src="images/audit-not.png" alt="Screenshot hasil Audit Lighthouse untuk halaman gambar tidak responsif, skor Performance 89"></p>
<p><img src="images/audit-mq.png" alt="Screenshot hasil Audit Lighthouse untuk halaman gambar responsif dengan media query CSS, skor Performance 97"></p>
<p><img src="images/audit-srcset.png" alt="Screenshot hasil Audit Lighthouse untuk halaman gambar responsif dengan img srcset, skor Performance 100"></p>
<p>Dari hasil di atas, dapat kita lihat bahwa kecepatan dan performa dapat berubah-ubah dan tidak hanya ditentukan oleh isi gambar saja. Tapi, mengoptimasi gambar—dalam hal ini dengan cara memuat gambar responsif—dapat membantu meningkatkan performa. Isi payload jadi lebih ringan, waktu loading jadi lebih cepat.</p>
<h2 id="penutup">Penutup</h2>
<p>Berikut ini ringkasan dari teknik-teknik yang sudah kita coba.</p>
<ul>
<li>
<p><strong>CSS width dan height</strong> belum bisa memuat file gambar secara responsif. Tapi perlu diterapkan untuk tampilan visual yang responsif dan stabil.</p>
</li>
<li>
<p>Baik <strong>media query CSS</strong> maupun <code>img</code> dengan <strong>atribut <code>srcset</code></strong> dapat digunakan untuk memuat gambar secara responsif. Dengan teknik-teknik ini, kita dapat menyajikan file gambar dengan lebih cepat, hemat, dan enak dilihat di layar pengguna, apapun perangkat yang digunakan.</p>
</li>
<li>
<p>Kedua teknik dapat diterapkan secara aksesibel.</p>
<ul>
<li>Gunakan <code>img alt=&quot;Deskripsi gambar&quot;</code> agar pembaca layar membacakan deskripsi gambar; atau <code>img alt=&quot;&quot;</code> agar pembaca layar melewatinya.</li>
<li>Gunakan <code>div role=&quot;img&quot; aria-label=&quot;Deskripsi gambar&quot;</code> agar pembaca layar menganggap elemen <code>div</code> sebagai gambar dan membacakan deskripsinya; atau <code>div aria-hidden=&quot;true&quot;</code> agar pembaca layar melewatinya.</li>
</ul>
</li>
<li>
<p>Kedua teknik memiliki keunggulan dan kekurangan masing-masing.</p>
<ul>
<li>Media query CSS sangat fleksibel karena kita mendefinisikan seluruh kondisi media query (lebar viewport, <em>device pixel ratio</em>, dsb) secara manual. Namun, karena seluruh kondisi harus didefinisikan satu persatu, kode cenderung lebih panjang dan sangat sulit untuk meng-cover semua kombinasi lebar dan kepadatan pixel.</li>
<li>Hanya media query CSS yang dapat men-download gambar <em>khusus untuk breakpoint tertentu</em> dengan query <code>max-width</code> dan <code>min-width</code>.</li>
<li>Sebaliknya, dengan <code>srcset</code>, pemilihan file gambar berdasarkan lebar viewport dan <em>device pixel ratio</em> dilakukan secara otomatis oleh browser 🤯. Kode lebih ringkas; menggunakan gambar responsif jadi lebih mudah. Konsekuensinya, kita bergantung pada browser untuk pemilihan gambar dengan kemungkinan <em>quirks</em> atau perilaku yang inkonsisten.</li>
</ul>
</li>
<li>
<p>Kedua teknik ini juga memiliki peruntukan masing-masing.</p>
<ul>
<li><code>background-image</code> CSS sebaiknya digunakan untuk gambar dekoratif yang bukan bagian dari <em>page content</em> (isi utama halaman).</li>
<li>Tag <code>img</code> digunakan untuk gambar yang berperan sebagai <em>page content</em>, yang perlu ditampilkan walaupun CSS tidak termuat, dimatikan, atau dimodifikasi (contoh: “Reader Mode” Safari iOS, aplikasi <em>reader</em> seperti Pocket, atau saat dicetak).</li>
</ul>
</li>
</ul>
<h3 id="extra-credits">Extra credits</h3>
<p>Beberapa teknik dan strategi yang belum dibahas di artikel ini, yang dapat dieksplorasi lebih lanjut.</p>
<ul>
<li>
<p><code>sizes</code> — Dengan <code>srcset</code>, browser mengasumsikan suatu gambar selalu ditampilkan full screen/sesuai lebar layar (100%). Tambahkan atribut <code>sizes</code> untuk mengatur lebar gambar pada ukuran-ukuran viewport tertentu. Misalnya, suatu gambar ditampilkan full screen (100%) di layar kecil, 50% di layar besar. Dengan <code>sizes</code> , browser bisa memilih gambar paling sesuai dengan memperhitungkan spesifikasi ukuran tersebut.</p>
</li>
<li>
<p><strong>Network Information API</strong> — Ada kalanya user yang menggunakan device dengan kepadatan pixel tinggi sedang berada di koneksi lambat dan tidak butuh melihat gambar yang tajam. Gunakan Network Information API dengan Javascript untuk memeriksa kecepatan koneksi user dan memuat gambar besar hanya jika kecepatan tinggi.</p>
<ul>
<li><a href="https://web.dev/adaptive-serving-based-on-network-quality/">Adaptive serving based on network quality</a> — Milica Mihajlija, web.dev</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Network_Information_API">Network Information API</a> — MDN Web Docs</li>
</ul>
</li>
</ul>
<hr>
<h2 id="referensi">Referensi</h2>
<ul>
<li>Dukungan browser via caniuse.com
<ul>
<li><a href="https://caniuse.com/#feat=mdn-css_at-rules_media_media_query_values">@media</a></li>
<li><a href="https://caniuse.com/#feat=css-media-resolution">resolution</a></li>
<li><a href="https://caniuse.com/#feat=mdn-css_at-rules_media_-webkit-min-device-pixel-ratio">-webkit-min-device-pixel-ratio</a></li>
<li><a href="https://caniuse.com/#feat=srcset">srcset</a></li>
</ul>
</li>
<li>Tag <code>img</code>, atribut <code>srcset</code> dan <code>sizes</code>
<ul>
<li><a href="https://web.dev/serve-responsive-images/">Serve responsive images</a> — Katie Hempenius, web.dev</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images">Responsive images</a> — MDN Web Docs</li>
</ul>
</li>
<li>Media query dan <code>background-image</code> CSS
<ul>
<li><a href="https://web.dev/optimize-css-background-images-with-media-queries/">Optimize CSS background images with media queries</a> — Demian Renzulli, web.dev</li>
<li><a href="https://www.smashingmagazine.com/2013/07/simple-responsive-images-with-css-background-images/">Simple Responsive Images With CSS Background Images</a> — Stephen Thomas, Smashing Magazine</li>
</ul>
</li>
<li>Lain-lain
<ul>
<li><a href="https://stackoverflow.com/questions/492809/when-to-use-img-vs-css-background-image">When to use IMG vs. CSS background-image?</a> — diskusi StackOverflow</li>
<li><a href="https://web.dev/codelab-density-descriptors/">Use density descriptors</a> — Katie Hempenius, web.dev — Belajar lebih mendalam tentang pixel density dan deteksi <em>device pixel ratio</em></li>
</ul>
</li>
<li>Studi perilaku browser men-download gambar
<ul>
<li><a href="https://timkadlec.com/2012/04/media-query-asset-downloading-results/">Media Query &amp; Asset Downloading Results</a> — Tim Kadlec</li>
<li><a href="https://csswizardry.com/2018/06/image-inconsistencies-how-and-when-browsers-download-images/">Image Inconsistencies: How and When Browsers Download Images</a> — CSS Wizardry</li>
</ul>
</li>
<li>Tools
<ul>
<li><a href="https://www.mydevice.io">mydevice.io</a> — Cek detail device (dimensi, kepadatan dan rasio pixel, dll)</li>
<li><a href="https://www.npmjs.com/package/sharp">sharp</a> dan <a href="https://www.imagemagick.org/script/index.php">ImageMagick</a> — tools untuk me-resize file gambar</li>
</ul>
</li>
</ul>
</div>
  <footer class="post-footer">
    <div class="post-share">
        <amp-social-share type="twitter"
        width="45"
        height="33"></amp-social-share>
      <amp-social-share type="facebook"
        width="45"
        height="33"></amp-social-share>
      <amp-social-share type="email"
        width="45"
        height="33"></amp-social-share>
      <amp-social-share type="pinterest"
        width="45"
        height="33"></amp-social-share>
    </div>
    
    <p class="section-title">Klik kata kunci di bawah ini untuk melihat konten terkait lebih banyak</p>
    <ul class="post-tags">
      
      <li><a href="https://wwwid.org/tags/images/">Images</a></li>
      
      <li><a href="https://wwwid.org/tags/performance/">Performance</a></li>
      
      <li><a href="https://wwwid.org/tags/responsive/">Responsive</a></li>
      
      <li><a href="https://wwwid.org/tags/chrome-dev-tools/">Chrome Dev Tools</a></li>
      
    </ul>
    
  </footer>
  
  
  
  
</article>


<h3 class="section-title">Related Contents</h3>
<amp-carousel class="featured-block" height="200"
  layout="fixed-height"
  type="carousel">
  
  <div class="featured-post">
        <a class="entry-link" href="https://wwwid.org/posts/2019-09-04_mengoptimasi-gambar-pada-halaman-situs/">
        
            <img src="/2019-09-04_mengoptimasi-gambar-pada-halaman-situs/images/image-optimisation-large.jpeg" alt="featured image">
            <div class="overlay"></div>
        
        <h4>Mengoptimasi Gambar Pada Halaman Situs</h4>
        </a>
        </div>
    
</amp-carousel>

</main>
<footer class="footer">
  <span>&copy; 2020 <a href="https://wwwid.org/">Modern Web Community Indonesia</a></span>
  <span>&middot;</span>
  <span>Powered by <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo️️</a>️</span>
  <span>&middot;</span>
  <span>Theme️ <a href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">Paper</a></span>
</footer>
<script src="https://wwwid.org/highlight.min.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>
</body>
</html>

